---
import Default from "../../layouts/Default.astro";
import DrinkPage from "../../components/browse/DrinkPage.astro";

export const prerender = false;

const { id } = Astro.params;

let drinksData: JSON;

try {
	drinksData = await fetch(`${import.meta.env.PUBLIC_API_URL}/drinks/${id}`, {
		method: "GET",
	}).then((response) => response.json());
} catch (error) {
	return Astro.redirect("/oops");
}
---

<Default title={` - ${drinksData.name}`}>
	<DrinkPage data={drinksData}></DrinkPage>
</Default>